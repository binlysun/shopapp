<template>
  <div id="mine">
      <van-nav-bar
        title="æˆ‘çš„"
        @click-right="onClickRight"
        :fixed=true
        
        >  
            <template #right>
                <van-icon name="bulb-o" size="20" badge="9" color="#333" />
            </template>
        </van-nav-bar>
<!-- @click="this.$router.push('/mine/minecenter')" -->
        <van-cell
         style="margin-top:2.5rem;background-color: #f5f5f5;" 
         :center=true
         @click="ToMinecenter()"
         >
            <!-- ä½¿ç”¨ title æ’æ§½æ¥è‡ªå®šä¹‰æ ‡é¢˜ -->
            <template #title class="mineinfo" >
                <div class="mineinfoimg">
                    <img src="./../../images/header.jpg" alt="">
                </div>
                <div class="minginfonames">
                    <span class="minginfoname">å®å’š_{{userInfo.token}}</span>
                    <span class="minginfoid">{{userInfo.phone}}</span>
                </div>
            </template>
        </van-cell>
        
        <van-grid clickable :column-num="3" >
            <van-grid-item  to="/" >
                <span class="ownernum">3</span>
                <span class="owner">ä¼˜æƒ åˆ¸</span>
            </van-grid-item>
            <van-grid-item >
                <span class="ownernum">595</span>
                <span class="owner">ç§¯åˆ†</span>
            </van-grid-item>
            <van-grid-item >
                <span class="ownernum">896.30</span>
                <span class="owner">ä½™é¢.å……å€¼(å…ƒ)</span>
            </van-grid-item>
        </van-grid>
        
        <van-cell-group  style="margin-top:0.5rem;">
            <van-cell :border=false title="æˆ‘çš„è®¢å•" value="æŸ¥çœ‹å…¨éƒ¨è®¢å•" is-link title-style="font-size:0.9rem" />
            <van-grid :border=false>
                <van-grid-item icon="peer-pay" text="å¾…æ”¯ä»˜" />
                <van-grid-item icon="tosend" text="å¾…æ”¶è´§" />
                <van-grid-item icon="records" text="å¾…è¯„ä»·" />
                <van-grid-item icon="balance-pay" text="å”®å/é€€æ¬¾" />
            </van-grid>
        </van-cell-group>

        <van-grid :border=false style="margin-top:0.5rem;" :column-num="2" :gutter="10">
            <van-grid-item >
                <div class="mineadwrap">
                    <div class="minead">
                        <span class="mineadtitle">å®å’šæ¸”åœº</span>
                        <span class="mineaddes">0å…ƒé¢†ğŸŸ</span>
                    </div>
                    <div class="mineadimg">
                        <img src="https://img.ddimg.mobi/product/7068f53276ddc1558012546082.jpg!deliver.product.list" alt="">
                    </div>
                </div>
            </van-grid-item>
            <van-grid-item >
                <div class="mineadwrap">
                    <div class="minead">
                        <span class="mineadtitle">é‚€è¯·é‚»å‹</span>
                        <span class="mineaddes">å¾—40å…ƒçº¢åŒ…</span>
                    </div>
                    <div class="mineadimg">
                        <img src="https://ddimg.ddxq.mobi/562d52ead80ee1532573147955.jpg!maicai.product.list" alt="">
                    </div>
                </div>
            </van-grid-item>
        </van-grid>        

        <van-grid  :column-num="4" :border=false style="margin-top:0.5rem; background-color: #fff;">
            <van-grid-item icon="vip-card-o" text="ç»¿å¡ä¼šå‘˜" />
            <van-grid-item icon="notes-o" text="æ”¶è´§åœ°å€" />
            <van-grid-item icon="gift-o" text="é‚€è¯·æœ‰å¥–" />
            <van-grid-item icon="service-o" text="è”ç³»å®¢æœ" />
            <van-grid-item icon="gift-card-o" text="ç¤¼å“å¡" />
            <van-grid-item icon="hotel-o" text="ä¼ä¸šé‡‡è´­" />
            <van-grid-item icon="manager-o" text="å®å’šæ‹›è˜" />
            <van-grid-item icon="envelop-o" text="æ„è§åé¦ˆ" />
            <van-grid-item icon="scan" text="æ‰«ä¸€æ‰«" />
            <van-grid-item icon="setting-o" text="è®¾ç½®" />
        </van-grid> 
        <van-cell-group  style="margin-top:0.5rem;">
            <van-cell :border=false title="å…³äºæˆ‘ä»¬" value="ä¸‹è½½APPä½“éªŒæ›´ä½³" is-link title-style="font-size:0.9rem" />
        </van-cell-group>     

        <router-view></router-view>
  </div>
</template>

<script>
import { mapActions, mapState } from 'vuex'
import { Toast } from 'vant';
export default {
    name:'Mine',
    methods: {
        ...mapActions(['autoLogin']),
        onClickRight(){
            alert('æ¶ˆæ¯é€šçŸ¥')
        },
        ToMinecenter(){
            if (this.userInfo.token) {
                this.$router.push("/minecenter")
            } else {
                Toast({
                    message:'è¯·ç™»å½•åå†æ“ä½œ',
                    duration:500,
                })
                
                return
            }
        }
    },
    mounted() {
        this.autoLogin()

    },
    computed:{
        ...mapState(['userInfo'])

    }
}   

</script>


<style scoped>

#mine{
    width: 100%;
    height: 100%;
    background:#f5f5f5
}
.van-nav-bar{
    background-color: #f5f5f5;
}

.ownergo{
    background-color: #f5f5f5;
}
.mineinfoimg{
    float: left;
    width: 4rem;
    height: 4rem;
   border-radius: 50%;
   overflow: hidden;
   border: 1px solid #cccccc;
}
.mineinfoimg img{
   width: 4rem;
    height: 4rem; 
}
.minginfonames{
    padding-left: 1rem;
    display: flex;
    flex-direction: column;
    padding-top:0.8em ;
}
.minginfoname{
    font-weight: bold;
    display: block;
    width:  7rem;
    white-space:nowrap ;
    overflow: hidden;
    text-overflow: ellipsis;

}
.minginfoid{
    font-size: 0.8rem;
    color: #cccccc;
}

.ownernum{
    font-size: 0.8rem;
    font-weight: bold;

}
.owner{
    font-size: 0.7rem;
    color: #ccc;

}
.mineadwrap{
    display: flex;
    justify-content: space-between;
}
.mineadimg{
    width: 3.5rem;
    height: 3.5rem;

}
.mineadimg img{
    width: 100%;
    height: 100%;
}

.minead{
    width: 5rem;
    display: flex;
    flex-direction: column;
    padding-top: 0.5rem;
    overflow: hidden;
}
.mineadtitle{
    font-size: 0.9rem;
}
.mineaddes{
    font-size: 0.7rem;
   padding-top: 0.3rem;
   color: #cccccc;
}
</style>
